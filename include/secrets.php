<?php
// ============================================================================
// КОНФИГУРАЦИЯ ПОДКЛЮЧЕНИЯ К БАЗЕ ДАННЫХ MySQL
// ============================================================================
$mysqli_host = "localhost";      // Хост базы данных
$mysqli_user = "root";           // Имя пользователя MySQL
$mysqli_pass = "";               // Пароль пользователя (оставлен пустым для локальной разработки)
$mysqli_db   = "torrent2";       // Название базы данных
$mysqli_charset = "utf8mb4";     // Кодировка (рекомендуется использовать utf8mb4 вместо utf8 для поддержки всех символов Unicode)

// Создаем экземпляр подключения к MySQL с использованием MySQLi (улучшенное расширение для работы с MySQL)
$mysqli = new mysqli($mysqli_host, $mysqli_user, $mysqli_pass, $mysqli_db);

// Проверяем успешность подключения к базе данных
if ($mysqli->connect_error) {
    // В случае ошибки подключения выводим сообщение и прекращаем выполнение скрипта
    die("Ошибка подключения к базе данных: " . $mysqli->connect_error);
}

// Устанавливаем кодировку соединения с базой данных
if (!$mysqli->set_charset($mysqli_charset)) {
    die("Ошибка установки кодировки подключения: " . $mysqli->error);
}

// ============================================================================
// КОНФИГУРАЦИЯ ПОДКЛЮЧЕНИЯ К MEMCACHED
// ============================================================================
$memcache_host = "127.0.0.1";    // Хост сервера Memcached (localhost)
$memcache_port = 11211;          // Стандартный порт Memcached

// Создаем экземпляр клиента Memcached
$memcached = new Memcached();

// Добавляем сервер Memcached в пул серверов
// Метод addServer() позволяет добавить сервер для распределенного кэширования
$memcached->addServer($memcache_host, $memcache_port);

// Примечание: Для проверки подключения к Memcached можно использовать:
// if (!$memcached->getVersion()) {
//     error_log("Не удалось подключиться к Memcached", 0);
// }
// ============================================================================
?>